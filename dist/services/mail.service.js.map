{"version":3,"sources":["../../src/services/mail.service.ts"],"sourcesContent":["import FormData from 'form-data';\r\nimport Mailgun from 'mailgun.js';\r\n\r\nimport { MAILGUN_SECRET } from '@config';\r\n\r\nconst mailgun = new Mailgun(FormData);\r\n\r\nconst mg = mailgun.client({\r\n  username: 'api',\r\n  key: MAILGUN_SECRET,\r\n});\r\n\r\nclass MailService {\r\n  public mg = mg;\r\n\r\n  public async sendMail(subject: string, html: any, data: any): Promise<boolean> {\r\n    const response = await mg.messages.create('mg.tialala.com', {\r\n      from: 'emmanuelnwanochie247@gmail.com',\r\n      to: data.email,\r\n      subject: subject,\r\n      html: html,\r\n    });\r\n    // logs any error\r\n    if (response.message === 'Queued. Thank you.') {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n}\r\n\r\nexport default MailService;\r\n"],"names":["mailgun","Mailgun","FormData","mg","client","username","key","MAILGUN_SECRET","MailService","sendMail","subject","html","data","response","messages","create","from","to","email","message"],"mappings":"AAAA;;;;+BA+BA;;aAAA;;iDA/BqB;kDACD;wBAEW;;;;;;AAE/B,MAAMA,UAAU,IAAIC,kBAAO,CAACC,iBAAQ;AAEpC,MAAMC,KAAKH,QAAQI,MAAM,CAAC;IACxBC,UAAU;IACVC,KAAKC,sBAAc;AACrB;AAEA,IAAA,AAAMC,cAAN,MAAMA;IAGJ,MAAaC,SAASC,OAAe,EAAEC,IAAS,EAAEC,IAAS,EAAoB;QAC7E,MAAMC,WAAW,MAAMV,GAAGW,QAAQ,CAACC,MAAM,CAAC,kBAAkB;YAC1DC,MAAM;YACNC,IAAIL,KAAKM,KAAK;YACdR,SAASA;YACTC,MAAMA;QACR;QAEA,IAAIE,SAASM,OAAO,KAAK,sBAAsB;YAC7C,OAAO,IAAI;QACb,OAAO;YACL,OAAO,KAAK;QACd,CAAC;IACH;;aAfOhB,KAAKA;;AAgBd;MAEA,WAAeK"}