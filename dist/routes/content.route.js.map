{"version":3,"sources":["../../src/routes/content.route.ts"],"sourcesContent":["import { Router } from 'express';\r\nimport AuthController from '@controllers/auth.controller';\r\nimport { Routes } from '@interfaces/routes.interface';\r\nimport validationMiddleware from '@/middlewares/validation.middleware';\r\nimport ContentController from '@/controllers/content.controller';\r\nimport { ContentDto, ContentSeriesDto, CreatSeriesDto } from '@/dtos/content.dto';\r\nimport authMiddleware from '@/middlewares/auth.middleware';\r\nimport multer from 'multer';\r\n\r\nconst upload = multer({ dest: 'uploads/' });\r\n\r\nclass ContentRoute implements Routes {\r\n  public path = '/content/';\r\n  public router = Router();\r\n  public authController = new AuthController();\r\n  public contentController = new ContentController();\r\n\r\n  constructor() {\r\n    this.initializeRoutes();\r\n  }\r\n\r\n  private initializeRoutes() {\r\n    this.router.post(\r\n      `${this.path}`,\r\n      authMiddleware,\r\n      upload.fields([{ name: 'video' }, { name: 'thumbnail' }]),\r\n      validationMiddleware(ContentDto, 'body'),\r\n      this.contentController.uploadSingle,\r\n    );\r\n\r\n    this.router.get(`${this.path}`, this.contentController.getAllContent);\r\n    this.router.delete(`${this.path}:id`, authMiddleware, this.contentController.deleteContent);\r\n  }\r\n}\r\n\r\nexport default ContentRoute;\r\n"],"names":["upload","multer","dest","ContentRoute","initializeRoutes","router","post","path","authMiddleware","fields","name","validationMiddleware","ContentDto","contentController","uploadSingle","get","getAllContent","delete","deleteContent","constructor","Router","authController","AuthController","ContentController"],"mappings":"AAAA;;;;+BAmCA;;aAAA;;yBAnCuB;uDACI;6DAEM;0DACH;4BAC+B;uDAClC;+CACR;;;;;;AAEnB,MAAMA,SAASC,IAAAA,eAAM,EAAC;IAAEC,MAAM;AAAW;AAEzC,IAAA,AAAMC,eAAN,MAAMA;IAUIC,mBAAmB;QACzB,IAAI,CAACC,MAAM,CAACC,IAAI,CACd,CAAC,EAAE,IAAI,CAACC,IAAI,CAAC,CAAC,EACdC,uBAAc,EACdR,OAAOS,MAAM,CAAC;YAAC;gBAAEC,MAAM;YAAQ;YAAG;gBAAEA,MAAM;YAAY;SAAE,GACxDC,IAAAA,6BAAoB,EAACC,sBAAU,EAAE,SACjC,IAAI,CAACC,iBAAiB,CAACC,YAAY;QAGrC,IAAI,CAACT,MAAM,CAACU,GAAG,CAAC,CAAC,EAAE,IAAI,CAACR,IAAI,CAAC,CAAC,EAAE,IAAI,CAACM,iBAAiB,CAACG,aAAa;QACpE,IAAI,CAACX,MAAM,CAACY,MAAM,CAAC,CAAC,EAAE,IAAI,CAACV,IAAI,CAAC,GAAG,CAAC,EAAEC,uBAAc,EAAE,IAAI,CAACK,iBAAiB,CAACK,aAAa;IAC5F;IAfAC,aAAc;aALPZ,OAAO;aACPF,SAASe,IAAAA,eAAM;aACfC,iBAAiB,IAAIC,uBAAc;aACnCT,oBAAoB,IAAIU,0BAAiB;QAG9C,IAAI,CAACnB,gBAAgB;IACvB;AAcF;MAEA,WAAeD"}